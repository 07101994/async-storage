(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{153:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return i})),n.d(t,"PlatformSupport",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(2),a=n(9),o=(n(0),n(156)),l={id:"brownfield",title:"Brownfield integration",sidebar_label:"Brownfield integration"},c={id:"advanced/brownfield",title:"Brownfield integration",description:"**Supported platforms:**",source:"@site/docs/advanced/BrownfieldIntegration.md",permalink:"/async-storage/docs/advanced/brownfield",editUrl:"https://github.com/react-native-community/async-storage/edit/master/website/docs/advanced/BrownfieldIntegration.md",sidebar_label:"Brownfield integration",sidebar:"docs",previous:{title:"Jest integration",permalink:"/async-storage/docs/advanced/jest"},next:{title:"Dedicator Thread Executor",permalink:"/async-storage/docs/advanced/executor"}},i=[{value:"The procotol",id:"the-procotol",children:[{value:"allKeys",id:"allkeys",children:[]},{value:"mergeValues",id:"mergevalues",children:[]},{value:"removeAllValues",id:"removeallvalues",children:[]},{value:"removeValuesForKeys",id:"removevaluesforkeys",children:[]},{value:"setValues",id:"setvalues",children:[]},{value:"valuesForKeys",id:"valuesforkeys",children:[]},{value:"passthrough",id:"passthrough",children:[]}]}],s=function(e){var t=e.platformIcon,n=e.title;return Object(o.b)("div",{style:{display:"flex",margin:"10px 20px",alignItems:"center",flexDirection:"row"}},Object(o.b)("img",{style:{width:34,height:34},src:t}),Object(o.b)("p",{style:{margin:"0 0 0 10px",padding:0}},n))},b={rightToc:i,PlatformSupport:s};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Supported platforms:")),Object(o.b)(s,{title:"iOS/MacOS",platformIcon:"/img/logo_ios.svg",mdxType:"PlatformSupport"}),Object(o.b)("hr",null),Object(o.b)("p",null,"If you're embedding React Native into native application, you can also integrate\nAsync Storage module, so that both worlds will use one storage solution."),Object(o.b)("p",null,"AsyncStorage can be controlled by the hosting app via the delegate on\n",Object(o.b)("inlineCode",{parentName:"p"},"RNCAsyncStorage"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"RNCAsyncStorage *asyncStorage = [bridge moduleForClass:[RNCAsyncStorage class]];\nasyncStorage.delegate = self;\n")),Object(o.b)("h2",{id:"the-procotol"},"The procotol"),Object(o.b)("p",null,"The delegate must conform to the ",Object(o.b)("inlineCode",{parentName:"p"},"RNCAsyncStorageDelegate")," protocol:"),Object(o.b)("h3",{id:"allkeys"},"allKeys"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)allKeys:(RNCAsyncStorageResultCallback)block;\n")),Object(o.b)("p",null,"Returns all keys currently stored. If none, an empty array is returned.\nCalled by ",Object(o.b)("inlineCode",{parentName:"p"},"getAllKeys")," in JS."),Object(o.b)("h3",{id:"mergevalues"},"mergeValues"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)mergeValues:(NSArray<NSString *> *)values\n            forKeys:(NSArray<NSString *> *)keys\n         completion:(RNCAsyncStorageResultCallback)block;\n")),Object(o.b)("p",null,"Merges values with the corresponding values stored at specified keys.\nCalled by ",Object(o.b)("inlineCode",{parentName:"p"},"mergeItem")," and ",Object(o.b)("inlineCode",{parentName:"p"},"multiMerge")," in JS."),Object(o.b)("h3",{id:"removeallvalues"},"removeAllValues"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)removeAllValues:(RNCAsyncStorageCompletion)block;\n")),Object(o.b)("p",null,"Removes all values from the store. Called by ",Object(o.b)("inlineCode",{parentName:"p"},"clear")," in JS."),Object(o.b)("h3",{id:"removevaluesforkeys"},"removeValuesForKeys"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)removeValuesForKeys:(NSArray<NSString *> *)keys\n                 completion:(RNCAsyncStorageResultCallback)block;\n")),Object(o.b)("p",null,"Removes all values associated with specified keys.\nCalled by ",Object(o.b)("inlineCode",{parentName:"p"},"removeItem")," and ",Object(o.b)("inlineCode",{parentName:"p"},"multiRemove")," in JS."),Object(o.b)("h3",{id:"setvalues"},"setValues"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)setValues:(NSArray<NSString *> *)values\n          forKeys:(NSArray<NSString *> *)keys\n       completion:(RNCAsyncStorageResultCallback)block;\n")),Object(o.b)("p",null,"Sets specified key-value pairs. Called by ",Object(o.b)("inlineCode",{parentName:"p"},"setItem")," and ",Object(o.b)("inlineCode",{parentName:"p"},"multiSet")," in JS."),Object(o.b)("h3",{id:"valuesforkeys"},"valuesForKeys"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"- (void)valuesForKeys:(NSArray<NSString *> *)keys\n           completion:(RNCAsyncStorageResultCallback)block;\n")),Object(o.b)("p",null,"Returns values associated with specified keys.\nCalled by ",Object(o.b)("inlineCode",{parentName:"p"},"getItem")," and ",Object(o.b)("inlineCode",{parentName:"p"},"multiGet")," in JS."),Object(o.b)("h3",{id:"passthrough"},"passthrough"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-objc"}),"@optional\n@property (nonatomic, readonly, getter=isPassthrough) BOOL passthrough;\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Optional:")," Returns whether the delegate should be treated as a passthrough.\nThis is useful for monitoring storage usage among other things. Returns ",Object(o.b)("inlineCode",{parentName:"p"},"NO")," by\ndefault."))}p.isMDXComponent=!0},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),b=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},p=function(e){var t=b(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=b(n),d=r,m=p["".concat(l,".").concat(d)]||p[d]||u[d]||o;return n?a.a.createElement(m,c({ref:t},s,{components:n})):a.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:r,l[1]=c;for(var s=2;s<o;s++)l[s]=n[s];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);